<!doctype html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>Hello, world!</title>
</head>
<body>
<div class="container display-6">
    <div class="row  justify-content-center">
    <div class="btn btn-primary w-25 mt-2" id = "restart" >RE</div>
    <p></p>
    <div class="box border border-dark m-2 text-center h-25"></div>
    <input type="col-md-1">
    <br>
    <button class="num col-sm-3 btn-dark m-2">1</button>
    <button class="num col-sm-3 btn-dark m-2">2</button>
    <button class="num col-sm-3 btn-dark m-2">3</button>
    <br>
    <button class="num col-md-3 btn-dark m-2">4</button>
    <button class="num col-md-3 btn-dark m-2">5</button>
    <button class="num col-md-3 btn-dark m-2">6</button>
    <br>
    <button class="num col-md-3 btn-dark m-2">7</button>
    <button class="num col-md-3 btn-dark m-2" >8</button>
    <button class="num col-md-3 btn-dark m-2">9</button>
    <br>
    <button class="col-md-3 btn-success m-2" id="clear">X</button>
    <button class="num col-md-3 btn-dark m-2">0</button>
    <button class="col-md-3 btn-success m-2 " id="OK">V</button>
</div>
</div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script>

        let keyInBtns = document.querySelectorAll('.num');

        let box = document.querySelector('.box');
        let input = document.querySelector("input");

        let min = 0;
        let max = 100;
        let result;

window.onload = function () 
    {
        replay();

        // 當按下按鈕時候 addEventListener
        let clear_btn=document.querySelector("#clear");
        let OK_btn = document.querySelector("#OK");
        clear_btn.addEventListener("click", function (event) 
        {
            clear();
        });

        OK_btn.addEventListener("click", function (event) 
        {
            check();
            show();
        });
        restart.addEventListener("click", function (event) 
        {
            clear();
            replay();
        });
    }

    //數字輸入
    keyInBtns.forEach( element=>
    {
        element.addEventListener('click', ()=>{keyIn()});
    });

    //輸入的數字會繼續排下去 EX .我按了3按鈕 , 接下來按4按紐 的話就是 34
    function keyIn()
    {
        input.value += event.target.innerText;
    }

function replay()
{
    min = 0;
    max = 100;
    anser = Math.floor(Math.random() * 100) + 1;
    show();
}


function clear() 
{
    input.value = "";
    box.value = "";
}


function check() 
{
    result = parseInt(input.value);
    
    if (result < min)
    {
        alert(`不行小於${min}`);
    }
    else if (result > max) 
    {
        alert(`不行大於${max}`);
    }
    else if(result == anser)
    {
        alert("恭喜答對");
        alert("遊戲已重新開始");
        replay();
        return;
    }

    if(anser > result)
    {
        min = result;
    }
    if(anser < result)
    {
        max = result;
    }
    
    show();
}
function show()
{
    box.innerHTML =`${min} ~ ${max}`;
    clear();
}
</script>
</body>
</html>